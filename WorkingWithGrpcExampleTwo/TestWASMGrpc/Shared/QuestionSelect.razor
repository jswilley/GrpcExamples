<div class="col-sm-12 col-md-9">
    <span class="col-form-label" style="padding:0px;" name="@Question.FormQuestionId">@Question.Question</span>
</div>

<div class="col-sm-6 col-md-3 row">
    <InputSelect class="form-control" Value="@Question.ResponseValue" ValueChanged="@((string value) => UpdateResponse(value))" ValueExpression="@( () => Question.ResponseValue )">
        <option value=""></option>
        @foreach (var response in Question.ResponseOptions.OrderBy(x => x.Sequence))
        {
            <option value="@response.ShortDescription" selected="@(Question.ResponseValue == response.ShortDescription ? "selected" : null)"> @response.LongDescription </option>
        }
    </InputSelect>
    <ValidationMessage For="@(() => Question.ResponseValue)" />
</div>

@code
{
    [Parameter]
    public GrpcServiceForWASM.Core.DTOs.FormQuestionDTO Question { get; set; }

    [Parameter]
    public EventCallback<GrpcServiceForWASM.Core.DTOs.FormQuestionDTO> QuestionChanged { get; set; }

    async Task UpdateResponse(string response)
    {
        Question.ResponseValue = response;
        await QuestionChanged.InvokeAsync(Question);
    }
}
